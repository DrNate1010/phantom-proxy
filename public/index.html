<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  <title>Home</title>
  <script src="https://kit.fontawesome.com/2a77da1b76.js" crossorigin="anonymous"></script>
  <link rel="icon" type="image/x-icon" href="/assets/images/phantom-rounded.png" />
  <link rel="stylesheet" href="/assets/main.css" />

  <link rel="prefetch" href="/scramjet/scramjet.worker.js" />
  <link rel="prefetch" href="/scramjet/scramjet.shared.js" />

  <script src="/baremux/index.js" defer></script>
  <script src="/epoxy/index.js" defer></script>
  <script src="/ultraviolet/uv.bundle.js" defer></script>
  <script src="/ultraviolet/uv.config.js" defer></script>
  <script src="/sw.js" defer></script>
  <script src="https://unpkg.com/@rubynetwork/rammerhead-browser" defer></script>
</head>

<body>
  <!-- Toolbar -->
  <div class="toolbar">
    <div class="tabs"></div>
    <button class="home-button" onclick="goForward()"><i class="fa-solid fa-arrow-left"></i></button>
    <button class="home-button" onclick="goBack()"><i class="fa-solid fa-arrow-right"></i></button>
    <button class="home-button" onclick="refreshTab()"><i class="fa-solid fa-rotate-right"></i></button>
    <button class="home-button" onclick="location.href='index.html'"><i class="fa-solid fa-home"></i></button>
    <input type="text" id="url-input" placeholder="Enter a url or search term" />
    <button class="home-button" id="setttings" onclick="location.href='settings.html'"><i class="fa-solid fa-gear"></i></button>
  </div>

  <!-- Title -->
  <div class="title">
    <h1 id="home-title">Phantom</h1>
  </div>

  <!-- Form -->
  <form id="form">
    <input id="input" placeholder="Search the Web..." />
  </form>

  <!-- Time -->
  <h1 id="time"></h1>

  <!-- JavaScript files -->
  <script src="/scramjet/scramjet.controller.js" defer></script>
  <script src="/assets/main.js" defer></script>
  <script src="/assets/time.js" defer></script>
  <script src="/assets/settings.js" defer></script>

  <!-- Theme Switching Script -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Fetch theme from localStorage (set by settings.js)
      const savedTheme = localStorage.getItem("theme") || "black";

      // Apply the theme
      function applyTheme(theme) {
        const body = document.body;
        if (theme === "black") {
          body.style.backgroundColor = "rgb(0, 0, 0)"; // Black background
          body.style.color = "rgb(255, 255, 255)"; // White text
        } else if (theme === "blue") {
          body.style.backgroundColor = "#073673"; // Blue background
          body.style.color = "rgb(255, 255, 255)"; // White text
        } else if (theme === "purple") {
          body.style.backgroundColor = "#20124d"; // Purple background
          body.style.color = "rgb(255, 255, 255)"; // White text
        }
      }

      // Apply the theme on page load
      applyTheme(savedTheme);

      // Listen for changes (optional, in case settings.js modifies localStorage dynamically)
      window.addEventListener("storage", () => {
        const updatedTheme = localStorage.getItem("theme");
        if (updatedTheme) applyTheme(updatedTheme);
      });
    });
  </script>
</body>

</html>
